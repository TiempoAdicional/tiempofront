import{a as p}from"./chunk-IIL6GWX2.js";import{H as s,ca as a,ha as l,q as t,u as n}from"./chunk-56OTQPDQ.js";var u=class i{constructor(r){this.seccionesService=r}obtenerSeccionPorTipo(r){return this.seccionesService.listar().pipe(n(o=>{let c=o.find(e=>e.tipo===r&&e.activa===!0);return c?c.id:null}),s(o=>(console.error("Error al obtener secci\xF3n por tipo:",o),t(null))))}obtenerSeccionEventos(){return this.obtenerSeccionPorTipo("EVENTOS")}obtenerSeccionNoticias(){return this.obtenerSeccionPorTipo("NOTICIAS")}obtenerSeccionPartidos(){return this.obtenerSeccionPorTipo("PARTIDOS")}crearSeccionesPorDefecto(){return this.seccionesService.listar().pipe(n(r=>{let o=r.map(e=>e.tipo);return[{titulo:"Noticias",tipo:"NOTICIAS",orden:1,descripcion:"Secci\xF3n de noticias del sitio",activa:!0},{titulo:"Eventos",tipo:"EVENTOS",orden:2,descripcion:"Secci\xF3n de eventos del sitio",activa:!0},{titulo:"Partidos",tipo:"PARTIDOS",orden:3,descripcion:"Secci\xF3n de partidos del sitio",activa:!0}].filter(e=>!o.includes(e.tipo)).forEach(e=>{this.seccionesService.crear(e).subscribe({next:()=>console.log(`\u2705 Secci\xF3n ${e.titulo} creada`),error:S=>console.error(`\u274C Error creando secci\xF3n ${e.titulo}:`,S)})}),!0}),s(r=>(console.error("Error al crear secciones por defecto:",r),t(!1))))}static \u0275fac=function(o){return new(o||i)(l(p))};static \u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})};export{u as a};
