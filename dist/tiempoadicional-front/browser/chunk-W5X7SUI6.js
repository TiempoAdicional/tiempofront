import{a as h}from"./chunk-W34LC3UO.js";import{a as l,b as g}from"./chunk-MCHRC6DH.js";import{$ as t,H as a,ca as b,ha as c,q as u,u as p}from"./chunk-56OTQPDQ.js";var m=class n{constructor(o){this.http=o}apiUrl=`${h.apiBaseUrl}/api/liga`;obtenerPartidosEnVivo(){return console.log("\u{1F534} Obteniendo partidos en vivo..."),this.http.get(`${this.apiUrl}/partidos/en-vivo`).pipe(t(o=>console.log(`\u2705 ${o.length} partidos en vivo obtenidos`)),a(this.handleError("obtenerPartidosEnVivo",[])))}obtenerProximosPartidos(){return console.log("\u{1F4C5} Obteniendo pr\xF3ximos partidos..."),this.http.get(`${this.apiUrl}/partidos/proximos`).pipe(t(o=>console.log(`\u2705 ${o.length} pr\xF3ximos partidos obtenidos`)),a(this.handleError("obtenerProximosPartidos",[])))}obtenerUltimosResultados(){return console.log("\u{1F4CA} Obteniendo \xFAltimos resultados..."),this.http.get(`${this.apiUrl}/partidos/resultados`).pipe(t(o=>console.log(`\u2705 ${o.length} resultados obtenidos`)),a(this.handleError("obtenerUltimosResultados",[])))}obtenerDetallesPartido(o){return console.log(`\u{1F50D} Obteniendo detalles del partido ${o}...`),this.http.get(`${this.apiUrl}/partidos/${o}/detalles`).pipe(t(e=>console.log(`\u2705 Detalles del partido obtenidos: ${e.nombreEquipoLocal} vs ${e.nombreEquipoVisitante}`)),a(this.handleError(`obtenerDetallesPartido ${o}`)))}obtenerTablaLigaColombiana(){return console.log("\u{1F3C6} Obteniendo tabla de posiciones completa..."),this.http.get(`${this.apiUrl}/tabla`).pipe(t(o=>console.log(`\u2705 Tabla completa obtenida con ${o.length} equipos`)),a(this.handleError("obtenerTablaLigaColombiana",[])))}obtenerTodasLasTablas(){return console.log("\u{1F3C6} Obteniendo informaci\xF3n completa de cuadrangulares..."),this.http.get(`${this.apiUrl}/tablas-completas`).pipe(t(o=>console.log(`\u2705 Cuadrangulares obtenidos: ${o.totalGrupos} grupos, ${o.totalEquipos} equipos`)),a(this.handleError("obtenerTodasLasTablas")))}obtenerCuadrangularA(){return console.log("\u{1F535} Obteniendo Cuadrangular A..."),this.http.get(`${this.apiUrl}/cuadrangular-a`).pipe(t(o=>console.log(`\u2705 Cuadrangular A obtenido con ${o.length} equipos`)),a(this.handleError("obtenerCuadrangularA",[])))}obtenerCuadrangularB(){return console.log("\u{1F534} Obteniendo Cuadrangular B..."),this.http.get(`${this.apiUrl}/cuadrangular-b`).pipe(t(o=>console.log(`\u2705 Cuadrangular B obtenido con ${o.length} equipos`)),a(this.handleError("obtenerCuadrangularB",[])))}obtenerTodosLosPartidos(){return console.log("\u{1F4CB} Obteniendo todos los partidos..."),this.http.get(`${this.apiUrl}/partidos`).pipe(t(o=>console.log(`\u2705 ${o.length} partidos totales obtenidos`)),a(this.handleError("obtenerTodosLosPartidos",[])))}obtenerTablaFaseRegular(){return console.log("\u{1F3C6} Obteniendo tabla de la fase regular..."),this.http.get(`${this.apiUrl}/tabla-fase-regular`).pipe(t(o=>console.log(`\u2705 Tabla de fase regular obtenida con ${o.length} equipos`)),a(this.handleError("obtenerTablaFaseRegular",[])))}buscarPartidosPorEquipo(o){console.log(`\u{1F50D} Buscando partidos del equipo: ${o}`);let e=new l().set("equipo",o);return this.http.get(`${this.apiUrl}/partidos/buscar-por-equipo`,{params:e}).pipe(t(r=>console.log(`\u2705 ${r.length} partidos encontrados para ${o}`)),a(this.handleError(`buscarPartidosPorEquipo ${o}`,[])))}buscarPartidosPorFecha(o){console.log(`\u{1F4C5} Buscando partidos para la fecha: ${o}`);let e=new l().set("fecha",o);return this.http.get(`${this.apiUrl}/partidos/buscar-por-fecha`,{params:e}).pipe(t(r=>console.log(`\u2705 ${r.length} partidos encontrados para ${o}`)),a(this.handleError(`buscarPartidosPorFecha ${o}`,[])))}obtenerEstadoLegible(o){return{"Not Started":"Por jugar","First Half":"Primer tiempo",Halftime:"Medio tiempo","Second Half":"Segundo tiempo","Extra Time":"Tiempo extra","Penalty In Progress":"Penales","Match Finished":"Finalizado","Match Postponed":"Aplazado","Match Cancelled":"Cancelado","Match Suspended":"Suspendido"}[o]||o}obtenerColorEstado(o){switch(o){case"First Half":case"Second Half":case"Extra Time":case"Penalty In Progress":return"#4CAF50";case"Match Finished":return"#2196F3";case"Not Started":return"#FF9800";case"Match Postponed":case"Match Cancelled":case"Match Suspended":return"#F44336";default:return"#757575"}}estaEnVivo(o){return["First Half","Halftime","Second Half","Extra Time","Penalty In Progress"].includes(o)}haFinalizado(o){return o==="Match Finished"}obtenerFechaHoy(){return new Date().toISOString().split("T")[0]}extraerCuadrangularA(o){let e=o.grupos.find(r=>r.nombreGrupo.toLowerCase().includes("a")||r.nombreGrupo.toLowerCase().includes("cuadrangular a"));return e?e.equipos:[]}extraerCuadrangularB(o){let e=o.grupos.find(r=>r.nombreGrupo.toLowerCase().includes("b")||r.nombreGrupo.toLowerCase().includes("cuadrangular b"));return e?e.equipos:[]}obtenerEstadisticasCuadrangulares(o){return{totalGrupos:o.totalGrupos,totalEquipos:o.totalEquipos,equiposA:this.extraerCuadrangularA(o).length,equiposB:this.extraerCuadrangularB(o).length,temporada:o.temporada,liderA:this.extraerCuadrangularA(o)[0]?.team.name||"No disponible",liderB:this.extraerCuadrangularB(o)[0]?.team.name||"No disponible"}}buscarEquipoEnCuadrangulares(o,e){for(let r of o.grupos){let i=r.equipos.find(s=>s.team.name.toLowerCase().includes(e.toLowerCase()));if(i)return{equipo:i,grupo:r.nombreGrupo}}return{equipo:null,grupo:null}}filtrarPorEstado(o,e){return o.filter(r=>r.estado===e)}ordenarPorFecha(o,e=!0){return o.sort((r,i)=>{let s=new Date(r.fecha).getTime(),d=new Date(i.fecha).getTime();return e?s-d:d-s})}obtenerPartidosPublicos(o=10){return console.warn("\u26A0\uFE0F obtenerPartidosPublicos() est\xE1 deprecado. Usar obtenerPartidosEnVivo() o obtenerProximosPartidos()"),this.obtenerProximosPartidos()}listarTodos(){return console.warn("\u26A0\uFE0F listarTodos() est\xE1 deprecado. Usar obtenerTodosLosPartidos()"),this.obtenerTodosLosPartidos().pipe(p(o=>({partidos:o})))}handleError(o="operation",e){return r=>(console.error(`\u274C Error en ${o}:`,r),r.status&&(console.error(`Status: ${r.status}`),console.error(`Message: ${r.message}`)),u(e))}static \u0275fac=function(e){return new(e||n)(c(g))};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})};export{m as a};
