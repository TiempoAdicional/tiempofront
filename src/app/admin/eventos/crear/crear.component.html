<section class="contenedor-crear-evento">
  <!-- Botón de vuelta al dashboard -->
  <div class="boton-vuelta-container">
    <button mat-fab 
            color="primary" 
            class="boton-vuelta-dashboard"
            (click)="volverAlDashboard()"
            matTooltip="Volver al Dashboard"
            aria-label="Volver al Dashboard">
      <mat-icon>dashboard</mat-icon>
    </button>
  </div>

  <mat-card class="card-crear-evento">

    <h1 class="titulo-creacion">📝 Crear Evento Deportivo</h1>

    <form [formGroup]="eventoForm" (ngSubmit)="onSubmit()" class="formulario-crear">

      <mat-form-field appearance="outline" class="campo-formulario">
        <mat-label>Nombre del evento</mat-label>
        <input matInput formControlName="nombre" placeholder="Ej. Final Liga" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="campo-formulario">
        <mat-label>Descripción</mat-label>
        <textarea matInput formControlName="descripcion" rows="3" placeholder="Escribe una descripción..."></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline" class="campo-formulario">
        <mat-label>Fecha del evento</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="fecha" placeholder="Selecciona una fecha" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="campo-formulario">
        <mat-label>Lugar</mat-label>
        <input matInput formControlName="lugar" placeholder="Ej. Estadio Nacional" />
      </mat-form-field>

      <!-- SECCIÓN -->
      <mat-form-field appearance="outline" class="campo-formulario">
        <mat-label>
          <mat-icon>folder</mat-icon>
          Sección
        </mat-label>
        <mat-select formControlName="seccionId" placeholder="Seleccione una sección">
          <mat-option value="">Sin sección</mat-option>
          <mat-option *ngFor="let seccion of secciones" [value]="seccion.id">
            {{seccion.titulo}}
          </mat-option>
        </mat-select>
        <mat-hint>Opcional: Asigne el evento a una sección específica</mat-hint>
      </mat-form-field>

      <div class="campo-formulario">
        <label class="label-archivo">📷 Cargar imagen del evento</label>
        <input type="file" (change)="onFileSelected($event)" accept="image/*" />
      </div>

      <div *ngIf="imagenUrl" class="imagen-preview-contenedor">
        <p class="texto-preview">Vista previa:</p>
        <img [src]="imagenUrl" alt="Vista previa" class="imagen-preview" />
      </div>

      <mat-form-field appearance="outline" class="campo-formulario">
        <mat-label>URL del Video (opcional)</mat-label>
        <input matInput formControlName="videoUrl" placeholder="https://..." />
      </mat-form-field>

      <div class="botones-accion">
        <button mat-raised-button color="primary" type="submit" [disabled]="guardando || eventoForm.invalid">
          <mat-icon>save</mat-icon> Guardar Evento
        </button>
        <button mat-raised-button color="accent" type="button" (click)="limpiarFormulario()">
          <mat-icon>restart_alt</mat-icon> Limpiar
        </button>
      </div>
    </form>
  </mat-card>
</section>