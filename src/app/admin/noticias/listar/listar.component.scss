// Variables
:root {
  --primary-color: #2e7d32;
  --accent-color: #00e676;
  --surface-color: #d95656;
  --card-color: #2c2c2c;
  --text-color: #ffffff;
  --text-secondary: #b0b0b0;
  --border-color: #404040;
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color: #f44336;
  --shadow-elevation: 0 4px 12px rgba(0, 0, 0, 0.15);
  --border-radius: 12px;
}

.listar-noticias-container {
  min-height: 100vh;
  background: linear-gradient(135deg, rgb(94, 94, 121) 50%, #afc8b1 100%);
  padding-bottom: 2rem;

  // Header toolbar
  .header-toolbar {
    background: linear-gradient(135deg, var(--primary-color) 0%, #1b5e20 100%);
    box-shadow: var(--shadow-elevation);
    position: sticky;
    top: 0;
    z-index: 1000;

    .header-title {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-color);

      mat-icon {
        color: var(--accent-color);
      }
    }

    .spacer {
      flex: 1 1 auto;
    }

    button[mat-raised-button] {
      background: linear-gradient(135deg, var(--accent-color), #00c853);
      color: #171616;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 230, 118, 0.3);

      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 230, 118, 0.4);
      }
    }
  }

  // Cards de estadísticas
  .stats-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    padding: 2rem;
    margin-bottom: 1rem;

    .stat-card {
      background: var(--card-color);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-elevation);
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;

      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
        border-color: var(--accent-color);
      }

      .stat-content {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.5rem;

        .stat-icon {
          width: 48px;
          height: 48px;
          font-size: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 12px;
          color: white;

          &.total {
            background: linear-gradient(135deg, #1976d2, #42a5f5);
          }

          &.published {
            background: linear-gradient(135deg, #388e3c, #66bb6a);
          }

          &.draft {
            background: linear-gradient(135deg, #f57c00, #ffb74d);
          }

          &.views {
            background: linear-gradient(135deg, #7b1fa2, #ba68c8);
          }
        }

        .stat-info {
          flex: 1;

          .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(0, 230, 118, 0.3);
          }

          .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.25rem;
          }
        }
      }
    }
  }

  // Cards principales
  .filters-card,
  .actions-card,
  .table-card {
    margin: 1rem 2rem;
    background: var(--card-color);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-elevation);
    border: 1px solid var(--border-color);

    mat-card-header {
      .mat-card-title {
        color: var(--text-color);
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;

        mat-icon {
          color: var(--accent-color);
        }
      }
    }

    mat-card-content {
      color: var(--text-color);
    }
  }

  // Filtros
  .filters-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;

    .search-field {
      width: 100%;

      ::ng-deep {
        .mat-form-field-outline {
          color: var(--border-color);
        }

        .mat-form-field-label {
          color: var(--text-secondary);
        }

        .mat-form-field-outline-thick {
          color: var(--accent-color);
        }

        input {
          color: var(--text-color);
        }
      }
    }

    .advanced-filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;

      mat-form-field {
        ::ng-deep {
          .mat-form-field-outline {
            color: var(--border-color);
          }

          .mat-form-field-label {
            color: var(--text-secondary);
          }

          .mat-select-value-text {
            color: var(--text-color);
          }
        }
      }
    }

    .filter-actions {
      display: flex;
      gap: 1rem;

      button {
        color: var(--text-color);
        border-color: var(--border-color);

        &:hover {
          background-color: rgba(255, 255, 255, 0.05);
        }
      }
    }
  }

  // Acciones masivas
  .bulk-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;

    .selection-info {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--accent-color);
      font-weight: 500;

      mat-icon {
        color: var(--accent-color);
      }
    }

    .action-buttons {
      display: flex;
      gap: 1rem;

      button {
        color: var(--text-color);
        border-color: var(--border-color);

        &:hover {
          background-color: rgba(255, 255, 255, 0.05);
        }

        &[color="warn"] {
          border-color: var(--error-color);
          color: var(--error-color);

          &:hover {
            background-color: rgba(244, 67, 54, 0.1);
          }
        }
      }
    }
  }

  // Tabla
  .table-container {
    background: transparent;

    .noticias-table {
      width: 100%;
      background: transparent;

      ::ng-deep {
        .mat-header-cell {
          background: rgba(255, 255, 255, 0.05);
          color: var(--text-color);
          font-weight: 600;
          border-bottom: 1px solid var(--border-color);
        }

        .mat-cell {
          color: var(--text-color);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mat-row:hover {
          background: rgba(255, 255, 255, 0.03);
        }
      }

      // Columnas específicas
      .noticia-imagen {
        .thumbnail {
          width: 60px;
          height: 40px;
          object-fit: cover;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
      }

      .noticia-info {
        .titulo {
          font-weight: 600;
          color: var(--text-color);
          margin-bottom: 0.25rem;
          cursor: pointer;

          &:hover {
            color: var(--accent-color);
          }
        }

        .resumen {
          color: var(--text-secondary);
          font-size: 0.9rem;
          line-height: 1.4;
          margin-bottom: 0.5rem;
        }

        .badges {
          display: flex;
          gap: 0.5rem;

          mat-chip {
            font-size: 0.75rem;
            height: 24px;
          }
        }
      }

      .estado-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;

        mat-chip {
          font-size: 0.75rem;
          height: 28px;
        }
      }

      .visitas-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;

        .visitas-icon {
          color: var(--text-secondary);
          font-size: 1.2rem;
        }

        .visitas-count {
          font-weight: 600;
          color: var(--accent-color);
        }
      }

      .fecha-container {
        .fecha-publicacion {
          font-weight: 500;
          color: var(--text-color);
        }

        .autor {
          font-size: 0.8rem;
          color: var(--text-secondary);
          margin-top: 0.25rem;
        }
      }

      .acciones-container {
        display: flex;
        gap: 0.25rem;
        align-items: center;

        button {
          min-width: 40px;
          width: 40px;
          height: 40px;

          &:hover {
            transform: scale(1.1);
          }
        }

        .delete-action {
          color: var(--error-color);

          mat-icon {
            color: var(--error-color);
          }
        }
      }
    }

    // Paginador
    ::ng-deep .mat-paginator {
      background: transparent;
      color: var(--text-color);
      border-top: 1px solid var(--border-color);

      .mat-select-value,
      .mat-paginator-range-label {
        color: var(--text-color);
      }

      .mat-icon-button {
        color: var(--text-color);
      }
    }
  }

  // Estados especiales
  .loading-container,
  .empty-state {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 300px;
    margin: 2rem;

    .loading-card,
    .empty-card {
      background: var(--card-color);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-elevation);
      border: 1px solid var(--border-color);

      .loading-content,
      .empty-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        padding: 2rem;
        text-align: center;

        mat-spinner {
          --mdc-circular-progress-active-indicator-color: var(--accent-color);
        }

        .loading-text,
        h3 {
          color: var(--text-color);
          margin: 0;
        }

        p {
          color: var(--text-secondary);
          margin: 0;
        }

        .empty-icon {
          font-size: 4rem;
          width: 4rem;
          height: 4rem;
          color: var(--text-secondary);
        }
      }
    }
  }
}

// Responsive Design
@media (max-width: 768px) {
  .listar-noticias-container {
    .stats-cards {
      grid-template-columns: 1fr;
      padding: 1rem;
    }

    .filters-card,
    .actions-card,
    .table-card {
      margin: 1rem;
    }

    .filters-container {
      .advanced-filters {
        grid-template-columns: 1fr;
      }
    }

    .bulk-actions {
      flex-direction: column;
      align-items: stretch;
    }

    .table-container {
      overflow-x: auto;

      .noticias-table {
        min-width: 800px;
      }
    }
  }
}

@media (max-width: 480px) {
  .listar-noticias-container {
    .header-toolbar {
      .header-title {
        font-size: 1.2rem;
      }
    }

    .stats-cards {
      .stat-card .stat-content {
        .stat-info .stat-number {
          font-size: 1.5rem;
        }
      }
    }
  }
}

// Animaciones
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.stats-cards .stat-card,
.filters-card,
.actions-card,
.table-card {
  animation: fadeInUp 0.6s ease-out;
}

// Snackbar personalizado
::ng-deep {
  .success-snackbar {
    background-color: var(--success-color);
    color: white;
  }

  .error-snackbar {
    background-color: var(--error-color);
    color: white;
  }
}