<div class="contenedor-listado">
  <h2>ğŸ—‚ï¸ Mis Noticias Publicadas</h2>
  <div class="acciones-internas">
      <div class="grupo-botones">
      <button class="btn-regresar" routerLink="/admin">
        ğŸ”™ Volver al Dashboard
      </button>
      </div>
    </div>
  <!-- ğŸ” Filtro de bÃºsqueda -->
  <div class="barra-busqueda">
    <input
      type="text"
      [(ngModel)]="filtro"
      (input)="filtrar()"
      placeholder="Buscar por tÃ­tulo..."
    />
  </div>

  <!-- â³ Cargando -->
  <div *ngIf="cargando" class="estado cargando">Cargando noticias...</div>

  <!-- âŒ Error -->
  <div *ngIf="error" class="estado error">{{ error }}</div>

  <!-- ğŸ“­ Sin resultados -->
  <div *ngIf="!cargando && noticiasFiltradas.length === 0" class="estado vacio">
    No tienes noticias creadas o no hay coincidencias.
  </div>

  <!-- ğŸ“ƒ Listado -->
  <div class="grid-noticias">
    <div class="tarjeta-noticia" *ngFor="let noticia of noticiasFiltradas">
      <div class="imagen-miniatura" *ngIf="noticia.imagenDestacada">
        <img [src]="noticia.imagenDestacada" alt="Imagen destacada" />
      </div>

      <div class="contenido">
        <h3>
          {{ noticia.titulo }}
          <span *ngIf="noticia.destacada" class="estrella">â­</span>
        </h3>
        <p class="resumen">{{ noticia.resumen }}</p>
        <p class="meta">
          ğŸ—“ï¸ {{ noticia.fechaPublicacion | date:'mediumDate' }} |
          ğŸ‘ï¸ {{ noticia.visitas }} visitas
        </p>

        <div class="acciones">
          <button (click)="verDetalle(noticia.id)">ğŸ‘ï¸ Ver</button>
          <button (click)="editarNoticia(noticia.id)">âœï¸ Editar</button>
          <button (click)="confirmarEliminacion(noticia)">ğŸ—‘ï¸ Eliminar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ğŸ§¾ Modal de confirmaciÃ³n -->
  <div class="modal-confirmacion" *ngIf="mostrarConfirmacion">
    <div class="ventana">
      <p>Â¿EstÃ¡s seguro de eliminar <strong>{{ noticiaSeleccionada?.titulo }}</strong>?</p>
      <div class="botones">
        <button (click)="eliminarNoticiaConfirmada()">âœ… SÃ­, eliminar</button>
        <button (click)="cancelarEliminacion()">âŒ Cancelar</button>
      </div>
    </div>
  </div>
</div>
